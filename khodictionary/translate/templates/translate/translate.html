{% extends 'dictionary/base.html' %} {% load static %} {% block content %}

<br />
<div id="content">
  <div class="main-content-2" style="margin-top: 1.8em; margin-bottom: 1em">
    <div class="container-fluid">
      <div class="row">
        <div class="col-12">
          <!-- Section Heading -->
          <div class="section-heading text-center">
            <h2 style="margin-top: 20px">Dịch nghĩa từ, văn bản</h2>
            <hr class="divider" />
          </div>
        </div>
      </div>
    </div>
    <div class="tabs-language">
      <ul class="nav nav-pills">
        <li class="nav-item" style="margin-right: 5px">
          <a
            class="btn btn-outline-secondary active"
            aria-current="page"
            href="{% url 'translate:translate' %}"
            role="button"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="16"
              height="16"
              fill="currentColor"
              class="bi bi-file-word"
              viewBox="0 0 16 16"
            >
              <path
                d="M4.879 4.515a.5.5 0 0 1 .606.364l1.036 4.144.997-3.655a.5.5 0 0 1 .964 0l.997 3.655 1.036-4.144a.5.5 0 0 1 .97.242l-1.5 6a.5.5 0 0 1-.967.01L8 7.402l-1.018 3.73a.5.5 0 0 1-.967-.01l-1.5-6a.5.5 0 0 1 .364-.606z"
              />
              <path
                d="M4 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H4zm0 1h8a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1z"
              />
            </svg>
            Văn bản</a
          >
        </li>
        <li class="nav-item">
          <a
            class="btn btn-outline-secondary"
            aria-current="page"
            href="{% url 'translate:document' %}"
            role="button"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="16"
              height="16"
              fill="currentColor"
              class="bi bi-file-earmark"
              viewBox="0 0 16 16"
            >
              <path
                d="M14 4.5V14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h5.5L14 4.5zm-3 0A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4.5h-2z"
              />
            </svg>
            Tài liệu</a
          >
        </li>
      </ul>

      <div class="my-3 p-3 bg-body rounded shadow-sm">
        <!-- <h4 class="border-bottom pb-2 mb-0">Chọn ngôn ngữ</h4> -->
        <div class="container">
          <div class="row border-bottom pb-2 mb-0">
            <div class="col-md-5">
              <div class="header__user">
                <p>Phát hiện ngôn ngữ</p>
                <div class="menu-language">
                  <ul id="menu-language">
                    <li><a href="">Tiếng Việt</a></li>
                    <li><a href="">Tiếng Kh'Ho</a></li>
                  </ul>
                </div>

                <div class="user__language">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="16"
                    height="16"
                    fill="currentColor"
                    class="bi bi-chevron-down"
                    viewBox="0 0 16 16"
                  >
                    <path
                      fill-rule="evenodd"
                      d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"
                    />
                  </svg>
                </div>
              </div>
            </div>
            <div class="col-md-2" style="text-align: center">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="16"
                height="16"
                fill="currentColor"
                class="bi bi-arrow-left-right"
                viewBox="0 0 16 16"
              >
                <path
                  fill-rule="evenodd"
                  d="M1 11.5a.5.5 0 0 0 .5.5h11.793l-3.147 3.146a.5.5 0 0 0 .708.708l4-4a.5.5 0 0 0 0-.708l-4-4a.5.5 0 0 0-.708.708L13.293 11H1.5a.5.5 0 0 0-.5.5zm14-7a.5.5 0 0 1-.5.5H2.707l3.147 3.146a.5.5 0 1 1-.708.708l-4-4a.5.5 0 0 1 0-.708l4-4a.5.5 0 1 1 .708.708L2.707 4H14.5a.5.5 0 0 1 .5.5z"
                />
              </svg>
            </div>
            <div class="col-md-5">
              <div class="header__user">
                <div class="menu-language">
                  <ul id="menu-language">
                    <li><a href="">Tiếng Kh'Ho</a></li>
                    <li><a href="">Tiếng Việt</a></li>
                  </ul>
                </div>

                <div class="user__language">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="16"
                    height="16"
                    fill="currentColor"
                    class="bi bi-chevron-down"
                    viewBox="0 0 16 16"
                  >
                    <path
                      fill-rule="evenodd"
                      d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"
                    />
                  </svg>
                </div>
              </div>
            </div>
          </div>
        </div>
        <form action="" method="POST">
          {% csrf_token %}
          <div class="translate">
            <div class="row">
              <div class="col-md-6">
                <textarea class="border-hidden" name="" id="" cols="70" rows="10" value=""></textarea>
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-mic-fill mic" viewBox="0 0 16 16" style="color: #5f6368">
                  <path d="M5 3a3 3 0 0 1 6 0v5a3 3 0 0 1-6 0V3z" />
                  <path d="M3.5 6.5A.5.5 0 0 1 4 7v1a4 4 0 0 0 8 0V7a.5.5 0 0 1 1 0v1a5 5 0 0 1-4.5 4.975V15h3a.5.5 0 0 1 0 1h-7a.5.5 0 0 1 0-1h3v-2.025A5 5 0 0 1 3 8V7a.5.5 0 0 1 .5-.5z"/>
                </svg>
              </div>
              <div class="col-md-6 border-left pb-2 mb-0">
                <textarea class="border-hidden" name="" id="" cols="70" rows="10" ></textarea>
              </div>
            </div>
          </div>
        </form>
      </div>
      <script>
        var SpeechRecognition = SpeechRecognition || webkitSpeechRecognition;
        var SpeechGrammarList = SpeechGrammarList || webkitSpeechGrammarList;
        var SpeechRecognitionEvent =
          SpeechRecognitionEvent || webkitSpeechRecognitionEvent;

        var colors = [];
        var grammar =
          "#JSGF V1.0; grammar colors; public <color> = " +
          colors.join(" | ") +
          " ;";

        var recognition = new SpeechRecognition();
        var speechRecognitionList = new SpeechGrammarList();
        speechRecognitionList.addFromString(grammar, 1);
        recognition.grammars = speechRecognitionList;
        recognition.continuous = false;
        recognition.lang = "vi";
        recognition.interimResults = false;
        recognition.maxAlternatives = 1;

        //var diagnostic = document.querySelector('.output');
        var diagnostic = document.querySelector(".translate");
        var bg = document.querySelector("html");
        var hints = document.querySelector(".hints");

        var colorHTML = "";
        colors.forEach(function (v, i, a) {
          console.log(v, i);
          colorHTML +=
            '<span style="background-color:' + v + ';"> ' + v + " </span>";
        });
        //hints.innerHTML = 'Tap/click then say a color to change the background color of the app. Try ' + colorHTML + '.';

        mic = document.querySelector(".mic");
        mic.onclick = function () {
          recognition.start();
          console.log("Ready to receive a color command.");
        };

        recognition.onresult = function (event) {
          var color = event.results[0][0].transcript;
          var data =
            '<div class="row">'+
              '<div class="col-md-6">'+
                '<textarea class="border-hidden" name="" id="" cols="70" rows="10" >' + color + '</textarea>'+
                '<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-mic-fill mic" viewBox="0 0 16 16" style="color: #5f6368">'+
                  '<path d="M5 3a3 3 0 0 1 6 0v5a3 3 0 0 1-6 0V3z" />'+
                  '<path d="M3.5 6.5A.5.5 0 0 1 4 7v1a4 4 0 0 0 8 0V7a.5.5 0 0 1 1 0v1a5 5 0 0 1-4.5 4.975V15h3a.5.5 0 0 1 0 1h-7a.5.5 0 0 1 0-1h3v-2.025A5 5 0 0 1 3 8V7a.5.5 0 0 1 .5-.5z"/>'+
                '</svg>'+
              '</div>'+
              '<div class="col-md-6 border-left pb-2 mb-0">'+
                '<textarea class="border-hidden" name="" id="" cols="70" rows="10" ></textarea>'+
              '</div>'+
            '</div>';

          diagnostic.innerHTML = data;
          bg.style.backgroundColor = color;
          console.log("Confidence: " + event.results[0][0].confidence);
        };

        recognition.onspeechend = function () {
          recognition.stop();
        };

        recognition.onspeechstart = function (event) {
          //Fired when speech starts
          console.log('SpeechRecognition.onspeechstart');
      }

        recognition.onnomatch = function (event) {
          diagnostic.textContent = "I didn't recognise that color.";
        };

        recognition.onerror = function (event) {
          diagnostic.textContent =
            "Error occurred in recognition: " + event.error;
        };
      </script>

      <section class="cards-section text-center">
        <div class="container">
          <div class="row">
            <div class="col-12">
              <div class="section-heading text-center">
                <h2 style="margin-top: 20px">Tiện ích</h2>
                <hr class="divider" />
              </div>
              <div class="intro">
                <p>
                  Xem lịch sử tra cứu, các từ đã được lưu và đóng góp ý kiến.
                </p>
              </div>
            </div>
          </div>
          <!-- <h2 class="title">Tiện ích</h2>
          <div class="intro">
            <p>Xem lịch sử tra cứu, các từ đã được lưu và đóng góp ý kiến.</p>
          </div> -->
          <div id="cards-wrapper" class="cards-wrapper row">
            <div class="item item-green col-lg-4 col-6">
              <div class="item-inner">
                <div class="icon-holder">
                  <svg
                    class="icon"
                    xmlns="http://www.w3.org/2000/svg"
                    width="45"
                    height="45"
                    fill="currentColor"
                    class="bi bi-clock-history"
                    viewBox="0 0 16 16"
                  >
                    <path
                      d="M8.515 1.019A7 7 0 0 0 8 1V0a8 8 0 0 1 .589.022l-.074.997zm2.004.45a7.003 7.003 0 0 0-.985-.299l.219-.976c.383.086.76.2 1.126.342l-.36.933zm1.37.71a7.01 7.01 0 0 0-.439-.27l.493-.87a8.025 8.025 0 0 1 .979.654l-.615.789a6.996 6.996 0 0 0-.418-.302zm1.834 1.79a6.99 6.99 0 0 0-.653-.796l.724-.69c.27.285.52.59.747.91l-.818.576zm.744 1.352a7.08 7.08 0 0 0-.214-.468l.893-.45a7.976 7.976 0 0 1 .45 1.088l-.95.313a7.023 7.023 0 0 0-.179-.483zm.53 2.507a6.991 6.991 0 0 0-.1-1.025l.985-.17c.067.386.106.778.116 1.17l-1 .025zm-.131 1.538c.033-.17.06-.339.081-.51l.993.123a7.957 7.957 0 0 1-.23 1.155l-.964-.267c.046-.165.086-.332.12-.501zm-.952 2.379c.184-.29.346-.594.486-.908l.914.405c-.16.36-.345.706-.555 1.038l-.845-.535zm-.964 1.205c.122-.122.239-.248.35-.378l.758.653a8.073 8.073 0 0 1-.401.432l-.707-.707z"
                    />
                    <path
                      d="M8 1a7 7 0 1 0 4.95 11.95l.707.707A8.001 8.001 0 1 1 8 0v1z"
                    />
                    <path
                      d="M7.5 3a.5.5 0 0 1 .5.5v5.21l3.248 1.856a.5.5 0 0 1-.496.868l-3.5-2A.5.5 0 0 1 7 9V3.5a.5.5 0 0 1 .5-.5z"
                    />
                  </svg>
                </div>
                <h3 class="title">Lịch sử</h3>
              </div>
            </div>
            <div class="item item-pink item-2 col-lg-4 col-6">
              <div class="item-inner">
                <div class="icon-holder">
                  <svg
                    class="icon"
                    xmlns="http://www.w3.org/2000/svg"
                    width="45"
                    height="45"
                    fill="currentColor"
                    class="bi bi-star-fill"
                    viewBox="0 0 16 16"
                  >
                    <path
                      d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"
                    />
                  </svg>
                </div>
                <h3 class="title">Đã lưu</h3>
              </div>
            </div>
            <div class="item item-blue col-lg-4 col-6">
              <div class="item-inner">
                <div class="icon-holder">
                  <svg
                    class="icon"
                    xmlns="http://www.w3.org/2000/svg"
                    width="45"
                    height="45"
                    fill="currentColor"
                    class="bi bi-people-fill"
                    viewBox="0 0 16 16"
                  >
                    <path
                      d="M7 14s-1 0-1-1 1-4 5-4 5 3 5 4-1 1-1 1H7zm4-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"
                    />
                    <path
                      fill-rule="evenodd"
                      d="M5.216 14A2.238 2.238 0 0 1 5 13c0-1.355.68-2.75 1.936-3.72A6.325 6.325 0 0 0 5 9c-4 0-5 3-5 4s1 1 1 1h4.216z"
                    />
                    <path d="M4.5 8a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5z" />
                  </svg>
                </div>
                <h3 class="title">Đóng góp</h3>
              </div>
            </div>
          </div>
        </div>
      </section>
    </div>
  </div>
</div>

{% endblock content %}
